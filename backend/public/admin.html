<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Admin — Investments</title>
  <style>body{font-family:Arial;margin:20px}button{margin:5px}</style>
</head>
<body>
  <h1>Admin — Investments</h1>
  <label>Admin Token: <input id="token" style="width:400px" placeholder="paste token here"></label>
  <div>
    <button id="btnSync">Manual Sync</button>
    <button id="btnLoad">Load Investments</button>
  </div>
  <pre id="out" style="background:#f8f8f8;padding:10px;height:400px;overflow:auto"></pre>

  <script>
    const out = document.getElementById('out');
    function authHeaders() {
      const token = document.getElementById('token').value;
      return token ? { 'Authorization': 'Bearer ' + token, 'Content-Type': 'application/json' } : { 'Content-Type': 'application/json' };
    }
    document.getElementById('btnLoad').onclick = async () => {
      out.textContent = 'Loading...';
      const res = await fetch('/admin/investments', { headers: authHeaders() });
      out.textContent = await res.text();
    };
    document.getElementById('btnSync').onclick = async () => {
      out.textContent = 'Syncing...';
      const res = await fetch('/admin/sync', { method: 'POST', headers: authHeaders() });
      out.textContent = await res.text();
    };
  </script>
</body>
</html>
